import{o as V,b as L,w as e,m as o,p as t,E as c,x as r,C as i,q as n,k as z,H as k,P as R,I as $,d0 as A,bf as P,j,a4 as q,br as C,bs as S,y as O}from"./index.c9cace27.js";import{u as B}from"./useAppAbility.297c2c71.js";import{h as H,u as Y}from"./moment.8ce82a84.js";import{V as M}from"./VChip.43bce262.js";import{c as b,V as h}from"./VCard.b9713ab8.js";import{V as E,a as _,b as m}from"./VList.c0340b14.js";import{V as v}from"./VAvatar.6c08e52e.js";import{b as I}from"./index.a46b1780.js";import{V as x}from"./VBtn.3de65118.js";import{V as T}from"./VDivider.cadbf2c9.js";import{a as y,V as D}from"./VRow.e56d09ea.js";import"./helpers.78bfc8d4.js";import"./router.5d268b1c.js";import"./position.458acdf6.js";import"./VImg.a5793e4c.js";const J={class:"d-flex flex-wrap"},F={class:"d-flex align-center"},G={class:"d-flex align-center"},K={class:"d-flex align-center"},Q={class:"d-flex align-center"},U={class:"d-flex align-center"},W={class:"d-flex align-center"},X={__name:"CardDetailLog",props:{detailLog:{type:Object,default:null}},setup(u){const a=u,l={success:"success",error:"error"};return(p,f)=>(V(),L(h,{title:"Details Log"},{append:e(()=>[o("div",J,[o("div",null,[t(M,{color:l[a.detailLog.status]},{default:e(()=>[c(r(a.detailLog.status),1)]),_:1},8,["color"])])])]),default:e(()=>[t(b,null,{default:e(()=>[t(E,{class:"card-list mb-3"},{default:e(()=>[t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",F,r(a.detailLog.title),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" Title ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",G,r(a.detailLog.order_id),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" Order Id ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",K,r(a.detailLog.no_polis),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" No Polis ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",Q,r(a.detailLog.action),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" Action ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",U,r(a.detailLog.type),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" Type ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[o("div",W,r(n(H)(a.detailLog.created_at).format("DD MMM YYYY HH:mm:ss")),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[c(" Created At ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};const Z={class:"d-flex flex-wrap"},ee={class:"mt-n4 me-n2"},te={__name:"CardRequest",props:{detailLog:{type:Object,default:null}},setup(u){const a=u,l=z(!0),p=s=>JSON.stringify(s,null,2),f=s=>{};return(s,d)=>(V(),L(h,{title:"Request",subtitle:"History of parameter requests"},{append:e(()=>[o("div",Z,[o("div",null,[t(x,{icon:"",size:"small",onClick:d[0]||(d[0]=w=>l.value=!n(l))},{default:e(()=>[t(i,{icon:n(l)?"tabler-chevron-up":"tabler-chevron-down"},null,8,["icon"])]),_:1})])])]),default:e(()=>[t(I,null,{default:e(()=>[k(o("div",null,[t(T),t(b,null,{default:e(()=>[t(h,{flat:"",border:"",color:"#23241f"},{append:e(()=>[o("div",ee,[t(x,{icon:"",color:"white",size:"x-small",variant:"plain",onClick:f},{default:e(()=>[t(i,{size:"22",icon:"tabler-copy"})]),_:1})])]),default:e(()=>[t(b,null,{default:e(()=>[t(n(R),{tag:"ul",options:{wheelPropagation:!1}},{default:e(()=>[o("pre",null,r(p(a.detailLog.request)),1)]),_:1})]),_:1})]),_:1})]),_:1})],512),[[$,n(l)]])]),_:1})]),_:1}))}};const oe={class:"d-flex flex-wrap"},ae={class:"mt-n4 me-n2"},le={__name:"CardResponse",props:{detailLog:{type:Object,default:null}},setup(u){const a=u,l=z(!1),p=s=>JSON.stringify(s,null,2),f=s=>{console.log("test")};return(s,d)=>(V(),L(h,{title:"Response",subtitle:"History of response"},{append:e(()=>[o("div",oe,[o("div",null,[t(x,{icon:"",size:"small",onClick:d[0]||(d[0]=w=>l.value=!n(l))},{default:e(()=>[t(i,{icon:n(l)?"tabler-chevron-up":"tabler-chevron-down"},null,8,["icon"])]),_:1})])])]),default:e(()=>[t(I,null,{default:e(()=>[k(o("div",null,[t(T),t(b,null,{default:e(()=>[t(h,{flat:"",border:"",color:"#23241f"},{append:e(()=>[o("div",ae,[t(x,{icon:"",color:"white",size:"x-small",variant:"plain",onClick:f},{default:e(()=>[t(i,{size:"22",icon:"tabler-copy"})]),_:1})])]),default:e(()=>[t(b,null,{default:e(()=>[t(n(R),{tag:"ul",options:{wheelPropagation:!1}},{default:e(()=>[o("pre",null,r(p(a.detailLog.response)),1)]),_:1})]),_:1})]),_:1})]),_:1})],512),[[$,n(l)]])]),_:1})]),_:1}))}},xe={__name:"[id]",setup(u){const a=A(),l=Y(),p=P(),f=j(),s=z(),d=B();w();function w(){l.fetchLogById(Number(p.params.id)).then(g=>{s.value=g.data,a.success("successfully displayed data",{position:"bottom-right",timeout:2500})}).catch(g=>{g.response.status==401?(localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),N()):a.error(g.response.data.message,{position:"bottom-right",timeout:2500})})}function N(){f.push("/login").then(()=>{localStorage.removeItem("userAbilities"),d.update(q)})}return(g,se)=>n(s)?(V(),L(D,{key:0},{default:e(()=>[t(y,{cols:"12",md:"4"},{default:e(()=>[t(X,C(S(n(s))),null,16)]),_:1}),t(y,{cols:"12",md:"8"},{default:e(()=>[t(D,null,{default:e(()=>[t(y,{cols:"12",md:"12"},{default:e(()=>[t(te,C(S(n(s))),null,16)]),_:1}),t(y,{cols:"12",md:"12"},{default:e(()=>[t(le,C(S(n(s))),null,16)]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0)}};export{xe as default};
