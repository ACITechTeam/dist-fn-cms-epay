import{j as C,k as d,Z as _,A as R,r as A,o as f,c as h,p as o,w as r,m as e,q as n,D as v,F as N,a as L,E as g,x as l,H as B,I as F,a4 as Y}from"./index.e954b838.js";import{u as E}from"./useAppAbility.90ea156d.js";import{u as H,h as M}from"./moment.c236e1a8.js";import{a as U,V as $}from"./VRow.ea1ff7c0.js";import{V as j,c as V}from"./VCard.38f7b0ec.js";import{V as q}from"./VTextField.2531c1e4.js";import{V as O}from"./VSelect.25b5c64f.js";import{V as y}from"./VDivider.e13438ff.js";import{V as Q}from"./VTable.0cf0069d.js";import{V as Z}from"./VImg.902b6a8f.js";import{V as G}from"./VChip.d13932d1.js";import{V as J}from"./VPagination.985f13a7.js";import"./helpers.c2029cdb.js";import"./VAvatar.69aae530.js";import"./router.ac95bec8.js";import"./position.f06c3a0c.js";/* empty css                   */import"./VField.8553b606.js";import"./index.be581ef0.js";import"./VInput.fc82f071.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./VCounter.6485f26e.js";import"./VList.93614bfe.js";import"./dialog-transition.1cf104aa.js";import"./VMenu.c39f281c.js";import"./scopeId.b40b0785.js";import"./VOverlay.da85a484.js";import"./lazy.8659d931.js";import"./VCheckboxBtn.751daa7e.js";import"./VSelectionControl.b59527e2.js";import"./VBtn.74cd6d4c.js";const K={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},W={class:"me-3"},X=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," # Order ID "),e("th",{scope:"col"}," Payment Type "),e("th",{scope:"col"}," Date Time "),e("th",{scope:"col"}," Name "),e("th",{scope:"col"}," Reference Number "),e("th",{scope:"col"}," Channel "),e("th",{scope:"col"}," Amount (Rp) "),e("th",{scope:"col"}," Status ")])],-1),ee={class:"d-flex align-center me-3"},te={class:"me-3"},ae={class:"d-flex flex-column"},oe={class:"text-base"},le={class:"text-sm text-disabled"},se={class:"text-capitalize text-medium-emphasis"},ie={class:"text-base"},re={class:"text-sm text-disabled"},ne={class:"text-capitalize text-base"},ce={class:"text-capitalize text-base font-weight-semibold"},ue={class:"text-capitalize text-capitalize text-medium-emphasis"},de=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No data available ")],-1),me=[de],pe={class:"text-sm text-disabled"},Qe={__name:"index",setup(_e){const b=C(),w=E(),T=H(),p=d(""),c=d(10),s=d(1),u=d(1),x=d(0),m=d([]),S=()=>{T.fetchTrans({q:p.value,perPage:c.value,currentPage:s.value}).then(a=>{m.value=a.data.trans,u.value=a.data.totalPage,x.value=a.data.totalTrans}).catch(a=>{a.response.status==401&&(localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),P())})};function P(){b.push("/login").then(()=>{localStorage.removeItem("userAbilities"),w.update(Y)})}_(S),_(()=>{s.value>u.value&&(s.value=u.value)}),_(()=>{s.value>u.value&&(s.value=u.value)});const D=R(()=>{const a=m.value.length?(s.value-1)*c.value+1:0,i=m.value.length+(s.value-1)*c.value;return`Showing ${a} to ${i} of ${x.value} entries`}),k=a=>a==="failed"?"error":a==="cancel"?"secondary":a==="paid"?"success":a==="expired"?"error":a==="pending"?"warning":"secondary",z=a=>(a/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return(a,i)=>{const I=A("RouterLink");return f(),h("section",null,[o($,null,{default:r(()=>[o(U,{cols:"12"},{default:r(()=>[o(j,{title:"List Transactions"},{default:r(()=>[o(V,{class:"d-flex flex-wrap py-4 gap-4"},{default:r(()=>[e("div",K,[o(q,{modelValue:n(p),"onUpdate:modelValue":i[0]||(i[0]=t=>v(p)?p.value=t:null),label:"Search",placeholder:"Search",density:"compact"},null,8,["modelValue"]),e("div",W,[o(O,{modelValue:n(c),"onUpdate:modelValue":i[1]||(i[1]=t=>v(c)?c.value=t:null),label:"Per page",density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])])])]),_:1}),o(y),o(Q,{class:"text-no-wrap"},{default:r(()=>[X,e("tbody",null,[(f(!0),h(N,null,L(n(m),t=>(f(),h("tr",{key:t.order_id,style:{height:"3.75rem"}},[e("td",null,[o(I,{to:{name:"transactions-view-id",params:{id:t.order_id}}},{default:r(()=>[g(" # "+l(t.order_id),1)]),_:2},1032,["to"])]),e("td",null,[e("div",ee,[e("div",te,[o(Z,{src:t.image_payment,width:"50"},null,8,["src"])]),e("div",ae,[e("h6",oe,l(t.description_payment),1),e("span",le,l(t.type_payment),1)])])]),e("td",se,l(n(M)(t.transaction_time).format("DD MMM YYYY HH:mm:ss")),1),e("td",null,[e("h6",ie,l(t.name),1),e("span",re,l(t.email),1)]),e("td",null,[e("span",ne,l(t.reference_number),1)]),e("td",null,[e("span",ce,l(t.name_payment_gateway),1)]),e("td",null,[e("span",ue,l(z(t.amount)),1)]),e("td",null,[o(G,{label:"",color:k(t.status),size:"small",class:"text-capitalize"},{default:r(()=>[g(l(t.status),1)]),_:2},1032,["color"])])]))),128))]),B(e("tfoot",null,me,512),[[F,!n(m).length]])]),_:1}),o(y),o(V,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:r(()=>[e("span",pe,l(n(D)),1),o(J,{modelValue:n(s),"onUpdate:modelValue":i[2]||(i[2]=t=>v(s)?s.value=t:null),size:"small","total-visible":5,length:n(u)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{Qe as default};
