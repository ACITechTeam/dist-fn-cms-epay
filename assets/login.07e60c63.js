import{k as l,bf as N,j as P,d0 as S,r as j,o as q,b as E,w as o,p as e,m as i,q as t,V as A,v as x,x as U,bg as G,D as g,E as V}from"./index.77a6d058.js";import{p as W}from"./helpers.2d96200a.js";import{u as $}from"./useAppAbility.1e428f14.js";import{u as v,m as z,a as H}from"./useGenerateImageVariant.cfea3efb.js";import{a as J,b as K,c as O,d as Q}from"./auth-v2-login-illustration-light.a2530d13.js";import{r as y,e as X}from"./validators.7f578ad5.js";import{b as k}from"./route-block.2f1a6263.js";import{a as n,V as _}from"./VRow.a27c6593.js";import{V as L}from"./VImg.40c02dea.js";import{V as Y,c as C}from"./VCard.c49a6d0b.js";import{V as I}from"./VTextField.a1cbb89c.js";import{V as Z}from"./VCheckbox.216ae9bf.js";import{V as ee}from"./VBtn.cb5015a3.js";import{V as te}from"./VForm.56e87210.js";import"./index.4c516342.js";import"./router.c7560bab.js";import"./VAvatar.fe8e046e.js";import"./position.bba5fced.js";/* empty css                   */import"./VField.0aa8a532.js";import"./index.9096a7de.js";import"./VInput.c57c36c3.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./VCounter.1d80c071.js";import"./VCheckboxBtn.212d2244.js";import"./VSelectionControl.245961b1.js";function oe(...b){return W("/api/auth/login",...b)}const se={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100"},re={class:"text-h5 font-weight-semibold mb-1"},le=i("p",{class:"mb-0"}," Please sign-in to your account ",-1),ne={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ie=i("span",null,"New on our platform?",-1),me={__name:"login",setup(b){const R=v(Q,O,K,J,!0),B=v(H,z),m=l(!1),h=N(),M=P();$();const T=S(),c=l({email:void 0,password:void 0}),w=l(),u=l(""),d=l(""),f=l(!1),D=()=>{oe({email:u.value,password:d.value}).then(a=>{a.data,console.log(a.data),M.replace(h.query.to?String(h.query.to):"/")}).catch(a=>{let s={errors:{email:["Email or Password is Invalid"]}};const{errors:p}=s;c.value=p,T.error(a.response.data.message,{position:"bottom-right",timeout:2500})})},F=()=>{var a;(a=w.value)==null||a.validate().then(({valid:s})=>{s&&D()})};return(a,s)=>{const p=j("RouterLink");return q(),E(_,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[e(n,{lg:"8",class:"d-none d-lg-flex"},{default:o(()=>[i("div",se,[i("div",ae,[e(L,{"max-width":"505",src:t(R),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(L,{src:t(B),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(n,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(Y,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[e(C,null,{default:o(()=>[e(_,null,{default:o(()=>[e(n,{cols:"12",class:"text-center"},{default:o(()=>[e(t(A),{nodes:t(x).app.logo,class:"mb-6"},null,8,["nodes"]),i("h5",re," Welcome to "+U(t(x).app.title),1),le]),_:1})]),_:1})]),_:1}),e(C,null,{default:o(()=>[e(t(te),{ref_key:"refVForm",ref:w,onSubmit:G(F,["prevent"])},{default:o(()=>[e(_,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(I,{modelValue:t(u),"onUpdate:modelValue":s[0]||(s[0]=r=>g(u)?u.value=r:null),label:"Email",type:"email",rules:[t(y),t(X)],"error-messages":t(c).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(I,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=r=>g(d)?d.value=r:null),label:"Password",rules:[t(y)],type:t(m)?"text":"password","error-messages":t(c).password,"append-inner-icon":t(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=r=>m.value=!t(m))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),i("div",ne,[e(Z,{modelValue:t(f),"onUpdate:modelValue":s[3]||(s[3]=r=>g(f)?f.value=r:null),label:"Remember me"},null,8,["modelValue"]),e(p,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:o(()=>[V(" Forgot Password? ")]),_:1})]),e(ee,{block:"",type:"submit"},{default:o(()=>[V(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center"},{default:o(()=>[ie,e(p,{class:"text-primary ms-2",to:{name:"register"}},{default:o(()=>[V(" Create an account ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}};typeof k=="function"&&k(me);export{me as default};
