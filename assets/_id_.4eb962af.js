import{o as V,b as L,w as e,m as a,p as t,E as u,x as r,C as i,q as n,y as D,k as z,H as R,P as $,I,d0 as P,bf as j,j as q,a4 as O,br as C,bs as S}from"./index.233f16b7.js";import{u as B}from"./useAppAbility.ac31555e.js";import{h as H,u as Y}from"./moment.fd1a1f7c.js";import{V as M}from"./VChip.f68194d8.js";import{c as b,V as h}from"./VCard.c676003e.js";import{V as E,a as _,b as m}from"./VList.ddf2fc2f.js";import{V as v}from"./VAvatar.50fff2ba.js";import{b as T}from"./index.a793c71a.js";import{V as x}from"./VBtn.f033ec71.js";import{V as N}from"./VDivider.281eaaa4.js";import{a as y,V as k}from"./VRow.0d78c234.js";import"./helpers.e9f2eb3b.js";import"./router.98c31f0e.js";import"./position.d721c9a3.js";import"./VImg.f6446cb5.js";const J={class:"d-flex flex-wrap"},F={class:"d-flex align-center"},G={class:"d-flex align-center"},K={class:"d-flex align-center"},Q={class:"d-flex align-center"},U={class:"d-flex align-center"},W={class:"d-flex align-center"},X={__name:"CardDetailLog",props:{detailLog:{type:Object,default:null}},setup(d){const o=d,l={success:"success",error:"error"};return(p,f)=>d.detailLog?(V(),L(h,{key:0,title:"Details Log"},{append:e(()=>[a("div",J,[a("div",null,[t(M,{color:l[o.detailLog.status]},{default:e(()=>[u(r(o.detailLog.status),1)]),_:1},8,["color"])])])]),default:e(()=>[t(b,null,{default:e(()=>[t(E,{class:"card-list mb-3"},{default:e(()=>[t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",F,r(o.detailLog.title),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" Title ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",G,r(o.detailLog.order_id),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" Order Id ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",K,r(o.detailLog.no_polis),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" No Polis ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",Q,r(o.detailLog.action),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" Action ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",U,r(o.detailLog.type),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" Type ")]),_:1})]),_:1}),t(_,null,{prepend:e(()=>[t(v,{size:"34",color:"secondary",variant:"tonal",rounded:""},{default:e(()=>[t(i,{icon:"tabler-file-invoice"})]),_:1})]),append:e(()=>[a("div",W,r(n(H)(o.detailLog.created_at).format("DD MMM YYYY HH:mm:ss")),1)]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[u(" Created At ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0)}};const Z={class:"d-flex flex-wrap"},ee={class:"mt-n4 me-n2"},te={__name:"CardRequest",props:{detailLog:{type:Object,default:null}},setup(d){const o=d,l=z(!0),p=s=>JSON.stringify(s,null,2),f=s=>{};return(s,c)=>(V(),L(h,{title:"Request",subtitle:"History of parameter requests"},{append:e(()=>[a("div",Z,[a("div",null,[t(x,{icon:"",size:"small",onClick:c[0]||(c[0]=w=>l.value=!n(l))},{default:e(()=>[t(i,{icon:n(l)?"tabler-chevron-up":"tabler-chevron-down"},null,8,["icon"])]),_:1})])])]),default:e(()=>[t(T,null,{default:e(()=>[R(a("div",null,[t(N),t(b,null,{default:e(()=>[t(h,{flat:"",border:"",color:"#23241f"},{append:e(()=>[a("div",ee,[t(x,{icon:"",color:"white",size:"x-small",variant:"plain",onClick:f},{default:e(()=>[t(i,{size:"22",icon:"tabler-copy"})]),_:1})])]),default:e(()=>[t(b,null,{default:e(()=>[t(n($),{tag:"ul",options:{wheelPropagation:!1}},{default:e(()=>[a("pre",null,r(p(o.detailLog.request)),1)]),_:1})]),_:1})]),_:1})]),_:1})],512),[[I,n(l)]])]),_:1})]),_:1}))}};const ae={class:"d-flex flex-wrap"},oe={class:"mt-n4 me-n2"},le={__name:"CardResponse",props:{detailLog:{type:Object,default:null}},setup(d){const o=d,l=z(!1),p=s=>JSON.stringify(s,null,2),f=s=>{console.log("test")};return(s,c)=>(V(),L(h,{title:"Response",subtitle:"History of response"},{append:e(()=>[a("div",ae,[a("div",null,[t(x,{icon:"",size:"small",onClick:c[0]||(c[0]=w=>l.value=!n(l))},{default:e(()=>[t(i,{icon:n(l)?"tabler-chevron-up":"tabler-chevron-down"},null,8,["icon"])]),_:1})])])]),default:e(()=>[t(T,null,{default:e(()=>[R(a("div",null,[t(N),t(b,null,{default:e(()=>[t(h,{flat:"",border:"",color:"#23241f"},{append:e(()=>[a("div",oe,[t(x,{icon:"",color:"white",size:"x-small",variant:"plain",onClick:f},{default:e(()=>[t(i,{size:"22",icon:"tabler-copy"})]),_:1})])]),default:e(()=>[t(b,null,{default:e(()=>[t(n($),{tag:"ul",options:{wheelPropagation:!1}},{default:e(()=>[a("pre",null,r(p(o.detailLog.response)),1)]),_:1})]),_:1})]),_:1})]),_:1})],512),[[I,n(l)]])]),_:1})]),_:1}))}},xe={__name:"[id]",setup(d){const o=P(),l=Y(),p=j(),f=q(),s=z(),c=B();w();function w(){l.fetchLogById(Number(p.params.id)).then(g=>{s.value=g.data,o.success("successfully displayed data",{position:"bottom-right",timeout:2500})}).catch(g=>{g.response.status==401?(localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),A()):o.error(g.response.data.message,{position:"bottom-right",timeout:2500})})}function A(){f.push("/login").then(()=>{localStorage.removeItem("userAbilities"),c.update(O)})}return(g,se)=>n(s)?(V(),L(k,{key:0},{default:e(()=>[t(y,{cols:"12",md:"4"},{default:e(()=>[t(X,C(S(n(s))),null,16)]),_:1}),t(y,{cols:"12",md:"8"},{default:e(()=>[t(k,null,{default:e(()=>[t(y,{cols:"12",md:"12"},{default:e(()=>[t(te,C(S(n(s))),null,16)]),_:1}),t(y,{cols:"12",md:"12"},{default:e(()=>[t(le,C(S(n(s))),null,16)]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0)}};export{xe as default};
